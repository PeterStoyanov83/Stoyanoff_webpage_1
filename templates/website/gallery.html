<!-- website/templates/website/gallery.html -->
{% extends 'website/base.html' %}

{% block content %}
<h2>Галерия</h2>
<div class="gallery">
    {% for item in media %}
        <div class="gallery-item">
            {% if item.media_type == "IMAGE" or item.media_type == "CAROUSEL_ALBUM" %}
                <a href="{{ item.permalink }}" target="_blank">
                    <img src="{{ item.media_url }}" alt="{{ item.caption }}">
                </a>
            {% elif item.media_type == "VIDEO" %}
                <a href="{{ item.permalink }}" target="_blank">
                    <video controls>
                        <source src="{{ item.media_url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </a>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}

<style>
    .gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }
    .gallery-item {
        flex: 1 1 calc(33.333% - 10px);
        box-sizing: border-box;
    }
    .gallery-item img, .gallery-item video {
        width: 100%;
        height: auto;
    }
</style>
